<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.scs.dao.ClassSCSMapper">

  <resultMap id="ResultMap" type="com.scs.pojo.ClassSCS">
    <id column="id" property="id"/>
    <result column="academy" property="academy"/>
    <result column="name" property="name"/>
    <result column="major" property="major"/>
    <result column="grade" property="grade"/>
    <result column="head_teacher_id" property="headTeacherId"/>
  </resultMap>



  <select id="selectByExample" parameterType="com.scs.pojo.ClassSCS" resultMap="ResultMap">
    select *
    from class_scs
    <trim prefix="where" suffixOverrides="and">
      <if test="id != null">
        id=#{id}and
      </if>
      <if test="academy != null">
        academy=#{academy}and
      </if>
      <if test="grade != null">
        grade=#{grade}and
      </if>
      <if test="major != null">
        major=#{major}and
      </if>
      <if test="name != null">
        name=#{name}and
      </if>
      <if test="headTeacherId != null">
        head_teacher_id=#{headTeacherId}and
      </if>
    </trim>


  </select>
  <delete id="deleteById">
    delete from class_scs WHERE id=#{id}
  </delete>


  <insert id="insert" parameterType="com.scs.pojo.ClassSCS">
    insert into class_scs (id, academy,grade, name,major,
      head_teacher_id)
    values (#{id,jdbcType=INTEGER}, #{academy,jdbcType=VARCHAR},
    #{grade},#{name,jdbcType=VARCHAR},#{major},
      #{headTeacherId,jdbcType=INTEGER})
    <!--select传过来的数据立马传给id -->
    <selectKey resultType="int" keyProperty="id" order="AFTER">
      select @@identity
    </selectKey>
  </insert>
  <insert id="insertSelective" parameterType="com.scs.pojo.ClassSCS">
    insert into class_scs
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        id,
      </if>
      <if test="academy != null">
        academy,
      </if>
      <if test="grade !=null">
        grade,
      </if>
      <if test="name != null">
        name,
      </if>
      <if test="headTeacherId != null">
        head_teacher_id,
      </if>
      <if test="major != null">
        major
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=INTEGER},
      </if>
      <if test="academy != null">
        #{academy,jdbcType=VARCHAR},
      </if>
      <if test="grade != null">
        #{grade}
      </if>
      <if test="name != null">
        #{name,jdbcType=VARCHAR},
      </if>
      <if test="headTeacherId != null">
        #{headTeacherId,jdbcType=INTEGER},
      </if>
      <if test="major != null">
        #{major}
      </if>
    </trim>
  </insert>
  <select id="countClass"  resultType="java.lang.Long">
    select count(*) from class_scs
  </select>

  <select id="selectAllClass" resultMap="ResultMap">
    SELECT * FROM class_scs
  </select>
  <select id="selectById" resultMap="ResultMap">
    SELECT * FROM class_scs WHERE id = #{id}
  </select>

  <update id="updateByExampleSelective" parameterType="com.scs.pojo.ClassSCS">
    update class_scs
    <set>
      <trim suffixOverrides=",">
        <if test="id != null">
          id = #{id,jdbcType=INTEGER},
        </if>
        <if test="academy != null">
          academy = #{academy,jdbcType=VARCHAR},
        </if>
        <if test="grade != null">
          grade = #{grade,jdbcType=VARCHAR},
        </if>
        <if test="name != null">
          name = #{name,jdbcType=VARCHAR},
        </if>
        <if test="headTeacherId != null">
          head_teacher_id = #{headTeacherId,jdbcType=INTEGER},
        </if>
        <if test="major != null">
          major = #{major}
        </if>

      </trim>
    </set>
    where id = #{id}
  </update>

  <select id="selectGrades" resultType="string">
    SELECT DISTINCT grade FROM class_scs
  </select>

  <select id="selectAcademys" resultType="string">
    SELECT DISTINCT academy FROM class_scs
  </select>

  <select id="selectMajors" resultType="string">
    SELECT DISTINCT major FROM class_scs WHERE academy = #{xxx}
  </select>


</mapper>